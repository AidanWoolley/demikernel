ssh:
    port: 2324

dirs:
    demikernel: ~/demeter/demikernel

files:
    uri_list:
        hosts: client
        src: /home/maxdml/nfs/maxdml/codeZ/demikernel/src/python/benchmarking_utils/52kuris
        dst: '{host.output_dir}/url_list.txt'


hosts:
    server: &server
        addr: dedos010
        ip: 192.168.1.11

    client:
        addr: dedos09
        ip: 192.168.1.10

programs:
    dpdk_client: !import prog_lib.yml::dpdk_http_client
    dpdk_server: !import prog_lib.yml::dpdk_http_server

commands:

    - &echo
      program: dpdk_client
      hosts: client
      server: *server
      min_duration: 40
      max_duration: 60
      #url: ?regex=ab
      url: /an/articles/l/u/e/Plantilla~Luenga_afroasiatica_f7d4.html
      #uri_list: '{0.files.uri_list.dst}'
      rate: 5000
      begin: 5
      nice_value: -19


    - program: dpdk_server
      hosts: server
      begin: 0
      min_duration: 45
      max_duration: 60
      unpin_http: $({0.args.unpin_http})
      unpin_tcp: $({0.args.unpin_tcp})
      nice_value: -20
