diff --git a/Makefile b/Makefile
index f269c90..eb5f6ad 100644
--- a/Makefile
+++ b/Makefile
@@ -37,7 +37,7 @@ CFLAGS += $(RDMA_CFLAGS)
 LDFLAGS += $(RDMA_LDFLAGS)
 
 DMTR_CFLAGS := -I$(DEMETER_INCLUDE)
-DMTR_LDFLAGS := -L$(dir $(DEMETER_LIBOS_SO)) -Wl,-rpath,$(dir $(DEMETER_LIBOS_SO)) -L$(dir $(DEMETER_LATENCY_A)) -L$(dir $(DEMETER_COMMON_A)) -L$(dir $(MALLOC)) -Wl,-rpath,$(dir $(MALLOC)) -l:$(notdir $(DEMETER_LIBOS_SO)) -l:$(notdir $(DEMETER_LATENCY_A)) -l:$(notdir $(DEMETER_COMMON_A)) -lboost_chrono -lboost_system -lstdc++
+DMTR_LDFLAGS := -L$(dir $(PSP_COMMON_A)) -Wl,-rpath,$(dir $(PSP_COMMON_A)) -L$(dir $(DEMETER_COMMON_A)) -Wl,-rpath,$(dir $(DEMETER_COMMON_A)) -L$(dir $(DEMETER_LIBOS_SO)) -Wl,-rpath,$(dir $(DEMETER_LIBOS_SO)) -L$(dir $(DEMETER_LATENCY_A)) -L$(dir $(MALLOC)) -Wl,-rpath,$(dir $(MALLOC)) -l:$(notdir $(PSP_COMMON_A)) -l:$(notdir $(DEMETER_LIBOS_SO)) -l:$(notdir $(DEMETER_COMMON_A)) -l:$(notdir $(DEMETER_LATENCY_A)) -lboost_chrono -lboost_system -lboost_program_options -lyaml-cpp -lstdc++
 CFLAGS += $(DMTR_CFLAGS)
 LDFLAGS += $(DMTR_LDFLAGS)
 
@@ -150,7 +150,7 @@ include libtapir/Rules.mk
 
 #
 # Protocols
-# 
+#
 PROTOOBJS := $(PROTOS:%.proto=.obj/%.o)
 PROTOSRCS := $(PROTOS:%.proto=.obj/gen/%.pb.cc)
 PROTOHEADERS := $(PROTOS:%.proto=%.pb.h)
diff --git a/lib/dmtransport.cc b/lib/dmtransport.cc
index 4ba120b..b086a2c 100644
--- a/lib/dmtransport.cc
+++ b/lib/dmtransport.cc
@@ -408,6 +408,7 @@ void
 DmTransport::Run()
 {
     dmtr_qtoken_t token;
+    int start_offset = 0;
     int status;
     stopLoop = false;
     // check timer on clients
@@ -424,7 +425,7 @@ DmTransport::Run()
     while (!stopLoop) {
         dmtr_qresult wait_out;
         int ready_idx;
-        int status = dmtr_wait_any(&wait_out, &ready_idx, tokens.data(), tokens.size());
+        int status = dmtr_wait_any(&wait_out, &start_offset, &ready_idx, tokens.data(), tokens.size());
 
         // if we got an EOK back from wait
         if (status == 0) {
